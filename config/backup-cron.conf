# AI设计平台定时备份任务配置
# 使用方法: crontab /home/ai design/config/backup-cron.conf

# 环境变量
SHELL=/bin/bash
PATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin
HOME=/root

# 备份脚本路径
BACKUP_SCRIPT="/home/ai design/scripts/backup-system.sh"
LOG_DIR="/var/log/backup"

# 每日凌晨2点执行完整备份
0 2 * * * $BACKUP_SCRIPT full >> $LOG_DIR/cron_backup_$(date +\%Y\%m\%d).log 2>&1

# 每日上午6点执行数据库备份
0 6 * * * $BACKUP_SCRIPT database >> $LOG_DIR/cron_database_$(date +\%Y\%m\%d).log 2>&1

# 每日上午8点执行文件备份
0 8 * * * $BACKUP_SCRIPT files >> $LOG_DIR/cron_files_$(date +\%Y\%m\%d).log 2>&1

# 每周日凌晨4点执行配置备份
0 4 * * 0 $BACKUP_SCRIPT config >> $LOG_DIR/cron_config_$(date +\%Y\%m\%d).log 2>&1

# 每天上午10点执行异地备份
0 10 * * * $BACKUP_SCRIPT remote >> $LOG_DIR/cron_remote_$(date +\%Y\%m\%d).log 2>&1

# 每周一凌晨1点清理旧备份文件
0 1 * * 1 $BACKUP_SCRIPT cleanup >> $LOG_DIR/cron_cleanup_$(date +\%Y\%m\%d).log 2>&1

# 每小时检查备份系统状态
0 * * * * $BACKUP_SCRIPT status >> $LOG_DIR/cron_status_$(date +\%Y\%m\%d).log 2>&1